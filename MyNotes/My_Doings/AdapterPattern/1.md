1. What does createWasmAdapter do?

It creates the runtime itself.
Think of it as:
“Build me the engine.”

It: boots WebContainer

returns an object with methods like
writeFile
readFile
spawn
mountProject
destroy
This object is your runtime API.

In short:
createWasmAdapter = creates the actual runtime adapter
(also known as the low-level engine control panel).


2. What does useRuntime do?

It is a React hook that manages:
loading state
initialization
cleanup
error handling
storing the runtime adapter in React state

Think of it as:
“Prepare the engine, handle startup, handle shutdown, tell the UI when it's ready.”

It:
decides which adapter to create
waits for the adapter to initialize
stores it in runtime state

exposes:
runtime (the adapter created by createWasmAdapter)
isLoading
error

In short:
useRuntime = manages the lifecycle of the runtime for React.


#### New Pattern

Before:
Hook = boots WC + manages WC + exposes WC


After:
Adapter = boots WC + wraps WC + exposes clean API  
Hook = just calls the adapter factory + stores it


NEW APPROACH (with adapter)
useRuntime exposes the adapter, not raw WebContainer:
runtime.writeFile(...)
runtime.spawn(...)
runtime.onServerReady(...)
runtime.destroy()

NEW: Adapter = Runtime
Your hook is now only a manager, not the runtime.
adapter = the runtime engine
useRuntime = loads the engine for UI
UI = uses runtime.writeFile()